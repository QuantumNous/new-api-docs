# æ•°æ®ç»Ÿè®¡æ¨¡å—

!!! info "åŠŸèƒ½è¯´æ˜"
    æ¥å£å‰ç¼€ç»Ÿä¸€ä¸º http(s)://`<your-domain>`

    ç”Ÿäº§ç¯å¢ƒåº”ä½¿ç”¨ HTTPS ä»¥ä¿è¯è®¤è¯ä»¤ç‰Œã€‚ HTTP ä»…å»ºè®®ç”¨äºå¼€å‘ç¯å¢ƒã€‚

    ç”¨é‡æ•°æ®çš„èšåˆç»Ÿè®¡ç³»ç»Ÿ ã€‚ç®¡ç†å‘˜å¯æŸ¥çœ‹å…¨ç«™ç»Ÿè®¡ï¼Œç”¨æˆ·å¯æŸ¥çœ‹ä¸ªäººç»Ÿè®¡ã€‚æ•°æ®æŒ‰æ¨¡å‹å’Œæ—¥æœŸåˆ†ç»„ï¼Œç”¨äºç”Ÿæˆå›¾è¡¨å’ŒæŠ¥è¡¨ï¼Œç›‘æ§ç³»ç»Ÿä½¿ç”¨è¶‹åŠ¿ã€‚

## ğŸ” ç”¨æˆ·é‰´æƒ

### æˆ‘çš„ç”¨é‡æŒ‰æ—¥æœŸç»Ÿè®¡

- **æ¥å£åç§°**ï¼šæˆ‘çš„ç”¨é‡æŒ‰æ—¥æœŸç»Ÿè®¡
- **HTTP æ–¹æ³•**ï¼šGET
- **è·¯å¾„**ï¼š`/api/data/self`
- **é‰´æƒè¦æ±‚**ï¼šç”¨æˆ·
- **åŠŸèƒ½ç®€ä»‹**ï¼šè·å–å½“å‰ç”¨æˆ·çš„ç”¨é‡æ•°æ®æŒ‰æ—¥æœŸç»Ÿè®¡ï¼Œæ”¯æŒæ—¶é—´èŒƒå›´æŸ¥è¯¢

ğŸ’¡ è¯·æ±‚ç¤ºä¾‹ï¼š

```
const response = await fetch('/api/data/self?start_timestamp=1640908800&end_timestamp=1640995200', {  
  method: 'GET',  
  headers: {  
    'Content-Type': 'application/json',  
    'Authorization': 'Bearer your_user_token',
    'New-Api-User': 'Bearer your_user_id'
  }  
});  
const data = await response.json();
```

âœ… æˆåŠŸå“åº”ç¤ºä¾‹ï¼š

```
{  
  "success": true,  
  "message": "",  
  "data": [  
    {  
      "model_name": "gpt-3.5-turbo",  
      "count": 25,  
      "quota": 12500,  
      "token_used": 2000,  
      "created_at": 1640995200,  
      "user_id": 1,  
      "username": "testuser"  
    },  
    {  
      "model_name": "gpt-4",  
      "count": 10,  
      "quota": 30000,  
      "token_used": 1500,  
      "created_at": 1640995200,  
      "user_id": 1,  
      "username": "testuser"  
    }  
  ]  
}
```

â— å¤±è´¥å“åº”ç¤ºä¾‹ï¼š

```
{  
  "success": false,  
  "message": "è·å–ä¸ªäººç»Ÿè®¡æ•°æ®å¤±è´¥"  
}
```

ğŸ§¾ å­—æ®µè¯´æ˜ï¼š

- `start_timestamp` ï¼ˆæ•°å­—ï¼‰: å¼€å§‹æ—¶é—´æˆ³ï¼Œå¯é€‰
- `end_timestamp` ï¼ˆæ•°å­—ï¼‰: ç»“æŸæ—¶é—´æˆ³ï¼Œå¯é€‰
- `data` ï¼ˆæ•°ç»„ï¼‰: ä¸ªäººç»Ÿè®¡æ•°æ®åˆ—è¡¨ 

    - `model_name` ï¼ˆå­—ç¬¦ä¸²ï¼‰: æ¨¡å‹åç§°
    - `count` ï¼ˆæ•°å­—ï¼‰: è¯·æ±‚æ¬¡æ•°
    - `quota` ï¼ˆæ•°å­—ï¼‰: é…é¢æ¶ˆè€—
    - `token_used` ï¼ˆæ•°å­—ï¼‰: Token ä½¿ç”¨é‡
    - `created_at` ï¼ˆæ•°å­—ï¼‰: ç»Ÿè®¡æ—¥æœŸæ—¶é—´æˆ³
    - `user_id` ï¼ˆæ•°å­—ï¼‰: ç”¨æˆ· ID
    - `username` ï¼ˆå­—ç¬¦ä¸²ï¼‰: ç”¨æˆ·å

## ğŸ” ç®¡ç†å‘˜é‰´æƒ

### å…¨ç«™ç”¨é‡æŒ‰æ—¥æœŸç»Ÿè®¡

- **æ¥å£åç§°**ï¼šå…¨ç«™ç”¨é‡æŒ‰æ—¥æœŸç»Ÿè®¡
- **HTTP æ–¹æ³•**ï¼šGET
- **è·¯å¾„**ï¼š`/api/data/`
- **é‰´æƒè¦æ±‚**ï¼šç®¡ç†å‘˜
- **åŠŸèƒ½ç®€ä»‹**ï¼šè·å–ç³»ç»Ÿå…¨ç«™ç”¨é‡æ•°æ®æŒ‰æ—¥æœŸç»Ÿè®¡ï¼Œæ”¯æŒæŒ‰ç”¨æˆ·åè¿‡æ»¤å’Œæ—¶é—´èŒƒå›´æŸ¥è¯¢

ğŸ’¡ è¯·æ±‚ç¤ºä¾‹ï¼š

```
const response = await fetch('/api/data/?start_timestamp=1640908800&end_timestamp=1640995200&username=testuser', {  
  method: 'GET',  
  headers: {  
    'Content-Type': 'application/json',  
    'Authorization': 'Bearer your_admin_token',
    'New-Api-User': 'Bearer your_user_id'
  }  
});  
const data = await response.json();
```

âœ… æˆåŠŸå“åº”ç¤ºä¾‹ï¼š

```
{  
  "success": true,  
  "message": "",  
  "data": [  
    {  
      "model_name": "gpt-3.5-turbo",  
      "count": 150,  
      "quota": 75000,  
      "token_used": 12500,  
      "created_at": 1640995200  
    },  
    {  
      "model_name": "gpt-4",  
      "count": 50,  
      "quota": 150000,  
      "token_used": 8000,  
      "created_at": 1640995200  
    }  
  ]  
}
```

â— å¤±è´¥å“åº”ç¤ºä¾‹ï¼š

```
{  
  "success": false,  
  "message": "è·å–ç»Ÿè®¡æ•°æ®å¤±è´¥"  
}
```

ğŸ§¾ å­—æ®µè¯´æ˜ï¼š

- `start_timestamp` ï¼ˆæ•°å­—ï¼‰: å¼€å§‹æ—¶é—´æˆ³ï¼Œå¯é€‰
- `end_timestamp` ï¼ˆæ•°å­—ï¼‰: ç»“æŸæ—¶é—´æˆ³ï¼Œå¯é€‰
- `username` ï¼ˆå­—ç¬¦ä¸²ï¼‰: ç”¨æˆ·åè¿‡æ»¤ï¼Œå¯é€‰ 
- `data` ï¼ˆæ•°ç»„ï¼‰: ç»Ÿè®¡æ•°æ®åˆ—è¡¨ï¼ŒæŒ‰æ¨¡å‹å’Œæ—¥æœŸåˆ†ç»„èšåˆ 

    - `model_name` ï¼ˆå­—ç¬¦ä¸²ï¼‰: æ¨¡å‹åç§°
    - `count` ï¼ˆæ•°å­—ï¼‰: è¯·æ±‚æ¬¡æ•°æ€»å’Œ
    - `quota` ï¼ˆæ•°å­—ï¼‰: é…é¢æ¶ˆè€—æ€»å’Œ
    - `token_used` ï¼ˆæ•°å­—ï¼‰: Token ä½¿ç”¨é‡æ€»å’Œ
    - `created_at` ï¼ˆæ•°å­—ï¼‰: ç»Ÿè®¡æ—¥æœŸæ—¶é—´æˆ³