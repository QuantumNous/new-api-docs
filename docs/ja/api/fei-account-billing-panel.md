## ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆ (Core Concepts)

| æ—¥æœ¬èª | English | èª¬æ˜ | Description |
|------|---------|------|-------------|
| å€ç‡ | Ratio | ä¾¡æ ¼è¨ˆç®—ã«ä½¿ç”¨ã•ã‚Œã‚‹ä¹—æ•°å› å­ | Multiplier factor used for price calculation |
| ãƒˆãƒ¼ã‚¯ãƒ³ | Token | APIã‚¢ã‚¯ã‚»ã‚¹èªè¨¼æƒ…å ±ã€ã¾ãŸã¯ãƒ¢ãƒ‡ãƒ«ãŒå‡¦ç†ã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆå˜ä½ | API access credentials or text units processed by models |
| ãƒãƒ£ãƒãƒ« | Channel | APIã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ã‚¢ã‚¯ã‚»ã‚¹ãƒãƒ£ãƒãƒ« | Access channel for API service providers |
| ã‚°ãƒ«ãƒ¼ãƒ— | Group | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¾ãŸã¯ãƒˆãƒ¼ã‚¯ãƒ³ã®åˆ†é¡ã€‚ä¾¡æ ¼å€ç‡ã«å½±éŸ¿ã™ã‚‹ | Classification of users or tokens, affecting price ratios |
| å‰²å½“æ  | Quota | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåˆ©ç”¨å¯èƒ½ãªã‚µãƒ¼ãƒ“ã‚¹æ  | Available service quota for users |

# ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè«‹æ±‚ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

!!! info "æ©Ÿèƒ½èª¬æ˜"
    ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¯ http(s)://`<your-domain>` ã«çµ±ä¸€ã•ã‚Œã¦ã„ã¾ã™

    æœ¬ç•ªç’°å¢ƒã§ã¯èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä¿è­·ã™ã‚‹ãŸã‚ã« HTTPS ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ HTTP ã¯é–‹ç™ºç’°å¢ƒã§ã®ã¿æ¨å¥¨ã•ã‚Œã¾ã™ã€‚

    OpenAI SDK äº’æ›ã®è«‹æ±‚ç…§ä¼šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€‚ãƒˆãƒ¼ã‚¯ãƒ³èªè¨¼ã‚’ä½¿ç”¨ã—ã€ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³æƒ…å ±ã¨ä½¿ç”¨é‡ç…§ä¼šã‚’æä¾›ã—ã¾ã™ã€‚ä¸»ã«ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŠã‚ˆã³ SDK çµ±åˆã«ä½¿ç”¨ã•ã‚Œã€OpenAI API ã¨ã®å®Œå…¨ãªäº’æ›æ€§ã‚’ä¿è¨¼ã—ã¾ã™ã€‚

## ğŸ” ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼

### ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³æ æƒ…å ±ã®å–å¾—

- **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³æ æƒ…å ±ã®å–å¾—
- **HTTP ãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
- **ãƒ‘ã‚¹**ï¼š`/dashboard/billing/subscription`
- **èªè¨¼è¦ä»¶**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ Token
- **æ©Ÿèƒ½æ¦‚è¦**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³å‰²å½“æƒ…å ±ï¼ˆç·æ ã€ãƒãƒ¼ãƒ‰ãƒªãƒŸãƒƒãƒˆã€ã‚¢ã‚¯ã‚»ã‚¹æœ‰åŠ¹æœŸé™ã‚’å«ã‚€ï¼‰ã‚’å–å¾—ã—ã¾ã™ã€‚OpenAI API å½¢å¼ã¨äº’æ›æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/dashboard/billing/subscription', {  
  method: 'GET',  
  headers: {  
    'Content-Type': 'application/json',  
    'Authorization': 'Bearer your_user_token'  
  }  
});  
const data = await response.json();
```

âœ… æˆåŠŸå¿œç­”ä¾‹ï¼š

```
{  
  "object": "billing_subscription",  
  "has_payment_method": true,  
  "soft_limit_usd": 100.0,  
  "hard_limit_usd": 100.0,  
  "system_hard_limit_usd": 100.0,  
  "access_until": 1640995200  
}
```

â— å¤±æ•—å¿œç­”ä¾‹ï¼š

```
{  
  "error": {  
    "message": "è·å–é…é¢å¤±è´¥",  
    "type": "upstream_error"  
  }  
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

- `object` ï¼ˆæ–‡å­—åˆ—ï¼‰: å›ºå®šå€¤ "billing_subscription"
- `has_payment_method` ï¼ˆãƒ–ãƒ¼ãƒ«å‹ï¼‰: æ”¯æ‰•ã„æ–¹æ³•ãŒã‚ã‚‹ã‹ã©ã†ã‹ã€‚å›ºå®šã§ true
- `soft_limit_usd` ï¼ˆæ•°å€¤ï¼‰: ã‚½ãƒ•ãƒˆãƒªãƒŸãƒƒãƒˆæ ï¼ˆç±³ãƒ‰ãƒ«ï¼‰
- `hard_limit_usd` ï¼ˆæ•°å€¤ï¼‰: ãƒãƒ¼ãƒ‰ãƒªãƒŸãƒƒãƒˆæ ï¼ˆç±³ãƒ‰ãƒ«ï¼‰
- `system_hard_limit_usd` ï¼ˆæ•°å€¤ï¼‰: ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ‰ãƒªãƒŸãƒƒãƒˆæ ï¼ˆç±³ãƒ‰ãƒ«ï¼‰
- `access_until` ï¼ˆæ•°å€¤ï¼‰: ã‚¢ã‚¯ã‚»ã‚¹æœ‰åŠ¹æœŸé™ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã€Token ã®æœ‰åŠ¹æœŸé™

### OpenAI SDK äº’æ›ãƒ‘ã‚¹ - ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³æ æƒ…å ±ã®å–å¾—

- **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šOpenAI SDK äº’æ›ãƒ‘ã‚¹ - ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³æ æƒ…å ±ã®å–å¾—
- **HTTP ãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
- **ãƒ‘ã‚¹**ï¼š`/v1/dashboard/billing/subscription`
- **èªè¨¼è¦ä»¶**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ Token
- **æ©Ÿèƒ½æ¦‚è¦**ï¼šä¸Šè¨˜ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨æ©Ÿèƒ½ã¯å®Œå…¨ã«åŒã˜ã§ã‚ã‚Šã€OpenAI SDK äº’æ›ãƒ‘ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/v1/dashboard/billing/subscription', {  
  method: 'GET',  
  headers: {  
    'Content-Type': 'application/json',  
    'Authorization': 'Bearer your_user_token'  
  }  
});  
const data = await response.json();
```

âœ… æˆåŠŸå¿œç­”ä¾‹ï¼š

```
{  
  "object": "billing_subscription",  
  "has_payment_method": true,  
  "soft_limit_usd": 100.0,  
  "hard_limit_usd": 100.0,  
  "system_hard_limit_usd": 100.0,  
  "access_until": 1640995200  
}
```

â— å¤±æ•—å¿œç­”ä¾‹ï¼š

```
{  
  "error": {  
    "message": "è·å–é…é¢å¤±è´¥",  
    "type": "upstream_error"  
  }  
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

- `object` ï¼ˆæ–‡å­—åˆ—ï¼‰: å›ºå®šå€¤ "billing_subscription"
- `has_payment_method` ï¼ˆãƒ–ãƒ¼ãƒ«å‹ï¼‰: æ”¯æ‰•ã„æ–¹æ³•ãŒã‚ã‚‹ã‹ã©ã†ã‹ã€‚å›ºå®šã§ true
- `soft_limit_usd` ï¼ˆæ•°å€¤ï¼‰: ã‚½ãƒ•ãƒˆãƒªãƒŸãƒƒãƒˆæ ï¼ˆç±³ãƒ‰ãƒ«ï¼‰
- `hard_limit_usd` ï¼ˆæ•°å€¤ï¼‰: ãƒãƒ¼ãƒ‰ãƒªãƒŸãƒƒãƒˆæ ï¼ˆç±³ãƒ‰ãƒ«ï¼‰
- `system_hard_limit_usd` ï¼ˆæ•°å€¤ï¼‰: ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ‰ãƒªãƒŸãƒƒãƒˆæ ï¼ˆç±³ãƒ‰ãƒ«ï¼‰
- `access_until` ï¼ˆæ•°å€¤ï¼‰: ã‚¢ã‚¯ã‚»ã‚¹æœ‰åŠ¹æœŸé™ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã€Token ã®æœ‰åŠ¹æœŸé™

### ä½¿ç”¨é‡æƒ…å ±ã®å–å¾—

- **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šä½¿ç”¨é‡æƒ…å ±ã®å–å¾—
- **HTTP ãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
- **ãƒ‘ã‚¹**ï¼š`/dashboard/billing/usage`
- **èªè¨¼è¦ä»¶**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ Token
- **æ©Ÿèƒ½æ¦‚è¦**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‰²å½“ä½¿ç”¨é‡æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚OpenAI API å½¢å¼ã¨äº’æ›æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/dashboard/billing/usage', {  
  method: 'GET',  
  headers: {  
    'Content-Type': 'application/json',  
    'Authorization': 'Bearer your_user_token'  
  }  
});  
const data = await response.json();
```

âœ… æˆåŠŸå¿œç­”ä¾‹ï¼š

```
{  
  "object": "list",  
  "total_usage": 2500.0  
}
```

â— å¤±æ•—å¿œç­”ä¾‹ï¼š

```
{  
  "error": {  
    "message": "è·å–ä½¿ç”¨é‡å¤±è´¥",  
    "type": "new_api_error"  
  }  
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

- `object` ï¼ˆæ–‡å­—åˆ—ï¼‰: å›ºå®šå€¤ "list"
- `total_usage` ï¼ˆæ•°å€¤ï¼‰: ç·ä½¿ç”¨é‡ã€‚å˜ä½ã¯ 0.01 ç±³ãƒ‰ãƒ«

### OpenAI SDK äº’æ›ãƒ‘ã‚¹ - ä½¿ç”¨é‡æƒ…å ±ã®å–å¾—

- **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å**ï¼šOpenAI SDK äº’æ›ãƒ‘ã‚¹ - ä½¿ç”¨é‡æƒ…å ±ã®å–å¾—
- **HTTP ãƒ¡ã‚½ãƒƒãƒ‰**ï¼šGET
- **ãƒ‘ã‚¹**ï¼š`/v1/dashboard/billing/usage`
- **èªè¨¼è¦ä»¶**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ Token
- **æ©Ÿèƒ½æ¦‚è¦**ï¼šä¸Šè¨˜ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨æ©Ÿèƒ½ã¯å®Œå…¨ã«åŒã˜ã§ã‚ã‚Šã€OpenAI SDK äº’æ›ãƒ‘ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

ğŸ’¡ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹ï¼š

```
const response = await fetch('/v1/dashboard/billing/usage', {  
  method: 'GET',  
  headers: {  
    'Content-Type': 'application/json',  
    'Authorization': 'Bearer your_user_token'  
  }  
});  
const data = await response.json();
```

âœ… æˆåŠŸå¿œç­”ä¾‹ï¼š

```
{  
  "object": "list",  
  "total_usage": 2500.0  
}
```

â— å¤±æ•—å¿œç­”ä¾‹ï¼š

```
{  
  "error": {  
    "message": "è·å–ä½¿ç”¨é‡å¤±è´¥",  
    "type": "new_api_error"  
  }  
}
```

ğŸ§¾ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜ï¼š

- `object` ï¼ˆæ–‡å­—åˆ—ï¼‰: å›ºå®šå€¤ "list"
- `total_usage` ï¼ˆæ•°å€¤ï¼‰: ç·ä½¿ç”¨é‡ã€‚å˜ä½ã¯ 0.01 ç±³ãƒ‰ãƒ«